<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Generator</title>
    <script src="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js"></script>
</head>
<body>
    <form id="pdf-form">
        <!-- Główne pola -->
        <label>
            Imię i Nazwisko:
            <input type="text" id="name" required>
        </label><br>
        <label>
            PESEL:
            <input type="text" id="PESEL" pattern="^\d{11}$" maxlength="11" required>
        </label><br>
        <label>
            Numer telefonu:
            <input type="text" id="phone" required>
        </label><br>

        <!-- Data dzisiejsza -->
        <label>
            Data:
            <input type="text" id="date" value="" readonly>
        </label><br>

        <!-- Adres zamieszkania (przeniesione do głównych pól) -->
        <label>
            Adres zamieszkania:
            <input type="text" id="address" required>
        </label><br>

        <!-- Dodatkowe pola -->
        <h3>Dodatkowe informacje:</h3>
        <label>
            Pole dodatkowe 1:
            <input type="text" id="extra1">
        </label><br>
        <label>
            Pole dodatkowe 2:
            <input type="text" id="extra2">
        </label><br>

        <button type="submit">Generuj PDF</button>
    </form>

    <script>
        // Ustawienie bieżącej daty (w Polsce)
        const date = new Date();
        const formattedDate = date.toLocaleString("pl-PL", { timeZone: "Europe/Warsaw" });
        document.getElementById("date").value = formattedDate;

        // Funkcja generująca PDF
        document.getElementById("pdf-form").addEventListener("submit", async (event) => {
            event.preventDefault();

            const name = document.getElementById("name").value;
            const PESEL = document.getElementById("PESEL").value;
            const phone = document.getElementById("phone").value;
            const date = document.getElementById("date").value;
            const extra1 = document.getElementById("extra1").value;
            const extra2 = document.getElementById("extra2").value;
            const address = document.getElementById("address").value;

            // Wczytaj szablon PDF
            const url = "template
